(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4488],{32351:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inspiration/recipe-and-ideas",function(){return s(50301)}])},9887:function(e,t,s){"use strict";var r=s(52676);s(75271);var i=s(92141),l=s(23012);let n=e=>{let t=t=>{let s="Now displaying "+t.label+" items";e.onChange(t),e.shouldAnnounce&&(0,l.xQ)(s)},{filtersMap:s}=e,n=[];return s.forEach(e=>{n.push({label:e.label,value:e})}),(0,r.jsx)("div",{className:"grid-filter-menu",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"select-filter-menu",children:"Filter by: "}),(0,r.jsx)(i.Z,{id:"select-filter-menu",type:"select",items:n,onChange:t,onBlur:t})]})})};n.defaultProps={filtersMap:[],shouldAnnounce:!0},t.Z=n},92141:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(52676),i=s(75271),l=s(82187),n=s.n(l);class a extends i.Component{get classes(){return this.props.classes+(this.props.disabled?" disabled":"")}onSelectChanged(e){if(this.props.onChange){let t=e.target.value;t=this.objectReference[t]||t,this.props.onChange(t)}}render(){let e=this.props.selected||this.props.label,{ariaLabel:t,ariaInvalid:s,ariaRequired:i}=this.props,l={};t&&(l["aria-label"]=t),""!==this.props.errorMsg&&(l["aria-invalid"]=s),i&&(l["aria-required"]=i);let a={},o=[],c=this.props.items.map(function(t,s){let i=t.label?t.label:t,l=t.value?t.value:i;if("string"!=typeof l&&"number"!=typeof l){let e="obj-ref".concat(s);a[e]=l,l=e}(t.selected||t.value===e)&&(e=l);let n=(0,r.jsx)("option",{value:l,children:i},s);return t.optGroup&&((0===o.length||o[o.length-1].label!==t.optGroup)&&o.push({label:t.optGroup,selects:[]}),o[o.length-1].selects.push(n)),n});this.objectReference=a;let p={};this.props.manageSelected?p.value=e:p.defaultValue=e,this.props.id&&(p.id=this.props.id);let d=n()(this.classes,"select",{"select-wrapper":!0,"select--error":this.props.errorMsg});return(0,r.jsxs)("div",{className:d,children:[(0,r.jsxs)("select",{"aria-label":this.props.ariaLabel||"Sort Results By",type:"select",disabled:this.props.disabled,onChange:e=>this.onSelectChanged(e),...p,...l,children:[this.props.label&&(0,r.jsx)("option",{disabled:this.props.isRequired,children:this.props.label}),o.length&&o.map((e,t)=>(0,r.jsx)("optGroup",{label:e.label,children:e.selects},t)),!o.length&&c]}),this.props.errorMsg&&(0,r.jsxs)("span",{className:"form-error",children:[(0,r.jsx)("br",{}),this.props.errorMsg]})]})}constructor(e,t){super(e,t),this.objectReference={},this.onSelectChanged=this.onSelectChanged.bind(this)}}a.defaultProps={type:"select",classes:"select-primary",errorMsg:"",isRequired:!1,manageSelected:!1,items:[],optGroups:[],disabled:!1}},23012:function(e,t,s){"use strict";s.d(t,{xQ:function(){return i}});let r=()=>{document.querySelector("#announce").innerHTML=""},i=(e,t)=>{let s=document.querySelector("#announce");s.setAttribute("aria-live","off"),s.innerHTML="",s.setAttribute("aria-live",t||"polite"),s.innerHTML=e,setTimeout(r,1e3)}},50301:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return v},default:function(){return y}});var r=s(52676),i=s(75271),l=s(98339),n=s(92141);class a extends i.Component{handleSort(e){this.setState({sortBy:e}),this.props.onSort(e)}handleFilter(){this.props.onFilter(this.refs.checkbox.checked)}render(){let{options:e}=this.props;return(0,r.jsx)("div",{className:"grid-sort-menu",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",value:"sortByVideo",checked:this.state.isChecked,onChange:this.handleFilter,ref:"checkbox"})," Videos Only"]}),(0,r.jsx)(n.Z,{id:"select-sort-menu",type:"select",items:e,onChange:this.handleSort,onBlur:this.handleSort})]})})}constructor(e,t){super(e,t),this.state={sortBy:"date"},this.handleSort=this.handleSort.bind(this),this.handleFilter=this.handleFilter.bind(this)}}var o=s(69159),c=e=>(0,r.jsx)("div",{className:"load-more-button",children:(0,r.jsx)(o.Z,{className:"load-more-button__link button button-primary",onClick:e.loadMore,label:"Load More"})}),p=s(22066),d=s(23012);class u extends i.Component{componentWillReceiveProps(e){(e.filtersGroup!==this.props.filtersGroup||e.activePrimaryOption!==this.props.activePrimaryOption)&&(this.state={secondaryFilter:"All"})}handleOnChange(e){let t=e.split("-",2),s="Now displaying "+t[0]+" recipes";this.setState({secondaryFilter:t[0]}),this.props.onChange(t[1]),this.props.shouldAnnounce&&(0,d.xQ)(s)}render(){let{filtersGroup:e}=this.props,t=[];return e&&e.length>0&&(t.push({label:"All",value:"All-*",selected:"All"===this.state.secondaryFilter}),e.forEach(e=>{t.push({label:e.filter,value:e.filter+"-"+e.sysId,selected:e.filter===this.state.secondaryFilter})})),(0,r.jsx)("div",{className:"grid-filter-menu",children:(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)(n.Z,{id:"filter-group-menu",type:"select",items:t,manageSelected:!0,disabled:!t.length,label:t.length?"":"Filter More",onChange:this.handleOnChange,onBlur:this.handleOnChange})})})}constructor(e,t){super(e,t),this.state={secondaryFilter:"All"},this.handleOnChange=this.handleOnChange.bind(this)}}u.defaultProps={shouldAnnounce:!0,filtersGroup:[]};var h=s(9887),g=s(22557),m=s(47070),f=s(9669),b=e=>{var t,s;let{recipesContent:n,recipeFiltersMap:o,recipeFilterGroup:d}=e,[b,v]=(0,i.useState)(o.filtersMap[0]),[y,x]=(0,i.useState)([]),[j,C]=(0,i.useState)("*"),[_,N]=(0,i.useState)(!1),[S,T]=(0,i.useState)(g.g2.MOST_RECENT),[E,M]=(0,i.useState)(0),R=(0,i.useRef)(),O=(0,i.useRef)(),P=(0,i.useRef)(),w={second:1,seconds:1,min:60,minute:60,minutes:60,hour:3600,hours:3600,overnight:43200,day:86400,days:86400},A=e=>{let t=0,s=e.replace("and","").replace("/"," ").replace(","," ").replace("  "," ").trim().split(" ");for(s.filter(e=>"and"!==e);s.length>=2;){let e=s.shift(),r=s.shift();return e.indexOf("-")>-1&&(e=e.split("-")[0].trim()),!isNaN(e=Number(e))&&r&&w[r]?t+=e*w[r]:t=21600,t}return 0===t?5*w.days:t},F=e=>{let t=Object.values(d).map(e=>({sysType:e.__typename,sysId:e.sys.id,name:e.name,options:Object.values(e.optionsCollection.items).map(e=>({filter:e.filter,sysType:e.__typename,sysId:e.sys.id}))})),s="All"===e?"":e;return t.find(function(e){return e.name===s})};(0,i.useEffect)(()=>{x([]),C("*"),N(!1),T(g.g2.MOST_RECENT),M(0)},[]);let G=()=>{let e="Now displaying ".concat(b.label," recipes, sorted by ").concat(S);_&&(e+=", that also contain videos"),e+=".",(0,p.xQ)(e)},I=e=>{switch(e){case g.g2.MOST_RECENT:return(e,t)=>{let s=new Date(e.recipePostDate).getTime(),r=new Date(t.recipePostDate).getTime();return s===r?1:s<r?1:-1};case g.g2.RECIPE_NAME:return(e,t)=>e.recipeName.trim()>t.recipeName.trim()?1:-1;case g.g2.COOK_TIME:return(e,t)=>A(e.recipePrepTime)===A(t.recipePrepTime)?e.isotopeWeight<t.isotopeWeight?1:-1:A(e.recipePrepTime)>A(t.recipePrepTime)?1:-1;case g.g2.HIGHEST_RATING:return(e,t)=>{let s=0,r=0;return(e.aggregateRating&&(s=e.aggregateRating),t.aggregateRating&&(r=t.aggregateRating),s===r)?new Date(e.recipePostDate)<new Date(t.recipePostDate)?1:-1:e.aggregateRating<t.aggregateRating?1:-1};default:return null}},k=[g.g2.MOST_RECENT,g.g2.COOK_TIME,g.g2.RECIPE_NAME,g.g2.HIGHEST_RATING],D=null==e?void 0:null===(t=e.recipeFiltersMap)||void 0===t?void 0:t.filtersMap,Z=(()=>{let{initialQty:t,perPage:s}=e,r=null==b?void 0:b.items,i=[];"*"!==j&&(r.map(e=>{var t,s;e.filter&&(null===(s=e.filter)||void 0===s?void 0:null===(t=s.sys)||void 0===t?void 0:t.id)===j&&i.push(e)}),r=i),_&&("*"!==j?(i=[],r.map(e=>{e.videoUrl&&i.push(e)}),r=i):r=b.videoItems),null==r||r.sort(I(S));let l=t+s*E,n=l<(null==r?void 0:r.length);return{visibleItems:null==r?void 0:r.filter((e,t)=>t<l),hasLoadMore:n}})(),B=y?y.options:[];return(0,r.jsxs)(l.i7,{...e,children:[(0,r.jsx)(l.FG,{hero:null==n?void 0:n.hero,seo:null==n?void 0:n.seo,slug:null==n?void 0:n.slug}),(0,r.jsxs)(l.KP,{moduleClassName:"think-deliciously-card-grid board-wrapper-recipes",children:[(0,r.jsxs)("div",{className:"board-wrapper-recipes__filters",children:[(0,r.jsx)(h.Z,{filtersMap:D,onChange:e=>{let t=F(e.label);v(e),x(t),C("*"),M(0),G()},ref:R,shouldAnnounce:!1}),(0,r.jsx)(u,{filtersGroup:B,activePrimaryOption:null==b?void 0:b.label,onChange:e=>{C(e)},ref:O})]}),(0,r.jsx)(a,{options:k,onSort:e=>{T(e),M(0),G()},onFilter:e=>{N(e),M(0),G()},ref:P}),(0,r.jsx)("div",{className:"board-wrapper-recipes__items",children:(0,r.jsx)(f.Z,{items:Z.visibleItems,type:"Think Deliciously"})}),(null===(s=Z.visibleItems)||void 0===s?void 0:s.length)===0&&(0,r.jsxs)("div",{className:"board-wrapper-recipes__no-results",children:["There are no recipes matching your filters. ",(0,r.jsx)("br",{})," Please change your selections."]}),Z.hasLoadMore&&(0,r.jsx)(c,{loadMore:()=>{M(E+1)}}),(0,r.jsx)(m.Z,{})]})]})},v=!0,y=e=>(0,r.jsx)(b,{...e})}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=32351)}),_N_E=e.O()}]);